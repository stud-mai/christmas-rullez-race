<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    body {
        font-family: 'Roboto', sans-serif;
    }
</style>
</head>
<body>
<div class="container">
    <header class="mt-3">
        <h1>7 января 2024. Rullez Team Christmas Uphill Race</h1>
    </header>
    <div id="coverImageSection" class="d-flex justify-content-center mb-3">
        <img id="coverImage" class="img-fluid" src="" alt="Cover Image">
    </div>

    <div class="table-responsive">
        <table id="absoluteTable" class="table table-hover table-striped-columns">
            <thead class="table-success">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Время</th>
                    <th scope="col">Темп</th>
                </tr>
            </thead>
            <tbody id="absoluteTableBody" class="table-group-divider">
            </tbody>
        </table>
    </div>

    <h2>Мужской Зачет</h2>
    <div class="table-responsive">
        <table id="maleTable" class="table table-hover table-striped-columns">
            <!-- Table content -->
            <thead>
                <tr class="table-success">
                    <th scope="col">#</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Время</th>
                    <th scope="col">Темп</th>
                </tr>
            </thead>
            <tbody id="maleTableBody" class="table-group-divider">
            </tbody>
        </table>
    </div>

    <h2>Женский Зачет</h2>
    <div class="table-responsive">
        <table id="femaleTable" class="table table-hover table-striped-columns">
            <thead>
                <tr class="table-success">
                    <th scope="col">#</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Время</th>
                    <th scope="col">Темп</th>
                </tr>
            <tbody id="femaleTableBody" class="table-group-divider">
            </tbody>
        </table>
    </div>

    <h2>Топ-3 Мужчины</h2>
    <div class="table-responsive">
        <table id="topMaleTable" class="table table-hover table-striped-columns">
            <thead>
                <tr class="table-success">
                    <th scope="col">#</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Время</th>
                    <th scope="col">Темп</th>
                </tr>
            </thead>
            <tbody id="topMaleTableBody" class="table-group-divider">
            </tbody>
        </table>
    </div>

    <h2>Топ-3 Женщины</h2>
    <div class="table-responsive">
        <table id="topFemaleTable" class="table table-hover table-striped-columns">
            <thead>
                <tr class="table-success">
                    <th scope="col">#</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Время</th>
                    <th scope="col">Темп</th>
                </tr>
            </thead>
            <tbody id="topFemaleTableBody" class="table-group-divider">
            </tbody>
        </table>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    document.getElementById('coverImage').src = 'cover.jpg';

    const participants = [
        { name: "Конюхов Илья", gender: "M", time: "23:18", time_seconds: 1398 },
        { name: "Рулевский Евгений", gender: "M", time: "23:46", time_seconds: 1426 },
        { name: "Калинников Алексей", gender: "M", time: "25:17", time_seconds: 1517 },
        { name: "Жучков Евгений", gender: "M", time: "25:36", time_seconds: 1536 },
        { name: "Наумов Данила", gender: "M", time: "25:52", time_seconds: 1552 },
        { name: "Крапивко Павел", gender: "M", time: "26:28", time_seconds: 1588 },
        { name: "Кагарманов Ильнур", gender: "M", time: "29:28", time_seconds: 1768 },
        { name: "Мельников Михаил", gender: "M", time: "26:51", time_seconds: 1611 },
        { name: "Тер-Микаэлян Елена", gender: "F", time: "37:54", time_seconds: 2274 },
        { name: "Домникова Юля", gender: "F", time: "34:34", time_seconds: 2074 },
        { name: "Торопова Марина", gender: "F", time: "36:58", time_seconds: 2218 },
        { name: "Вершинина Надежда", gender: "F", time: "29:52", time_seconds: 1792 },
        { name: "Руссу Нина", gender: "F", time: "37:54", time_seconds: 2274 },
        { name: "Казыбаева Салтанат", gender: "F", time: "30:43", time_seconds: 1843 },
        { name: "Гамзатов Георгий", gender: "M", time: "33:08", time_seconds: 1988 },
        { name: "Талашко Дмитрий", gender: "M", time: "34:23", time_seconds: 2063 },
        { name: "Кобыляков Владимир", gender: "M", time: "26:33", time_seconds: 1593 },
        { name: "Пермяков Павел", gender: "M", time: "28:44", time_seconds: 1724 },
        { name: "Вдовин Антон", gender: "M", time: "27:26", time_seconds: 1646 },
        { name: "Филиппова Анна", gender: "F", time: "35:44", time_seconds: 2144 }
    ];


    // Вычислите темп для каждого участника
    const distance = 5.7;
    // Calculate pace for each participant in format mm:ss min/km
    function calculatePace(participant) {
        const pace = (participant.time_seconds / 60) / distance;
        const minutes = Math.floor(pace);
        const seconds = Math.round((pace - minutes) * 60);
        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }

    participants.forEach(participant => {
        participant.pace = calculatePace(participant);
        console.log(participant);
    });

    // Функция для добавления участников в таблицу
    function addParticipantsToTable(participants, tableBodyId) {
        const table = document.getElementById(tableBodyId);
        participants.forEach((participant, index) => {
            const row = table.insertRow();
            row.insertCell(0).innerText = index + 1;
            row.insertCell(1).innerText = participant.name;
            row.insertCell(2).innerText = participant.time;
            row.insertCell(3).innerText = participant.pace; // добавьте темп в таблицу
        });
    }

    function populateTables() {
        const maleParticipants = participants.filter(p => p.gender === "M").sort((a, b) => a.time_seconds - b.time_seconds);
        const femaleParticipants = participants.filter(p => p.gender === "F").sort((a, b) => a.time_seconds - b.time_seconds);
        const absoluteParticipants = participants.sort((a, b) => a.time_seconds - b.time_seconds);
    
        // Добавление участников в таблицы
        addParticipantsToTable(maleParticipants, "maleTableBody");
        addParticipantsToTable(femaleParticipants, "femaleTableBody");
        addParticipantsToTable(absoluteParticipants, "absoluteTableBody");
    
        // Топ-3 мужчин и женщин
        addParticipantsToTable(maleParticipants.slice(0, 3), "topMaleTableBody");
        addParticipantsToTable(femaleParticipants.slice(0, 3), "topFemaleTableBody");
    }
    
    // Вызов функции после загрузки страницы
    window.onload = populateTables;

    // Сгенерируйте здесь участников и добавьте их в таблицы
</script>

</body>
</html>
